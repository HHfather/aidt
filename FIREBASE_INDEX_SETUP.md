# Firebase Firestore 인덱스 설정 가이드

## 1. Firebase Console 접속
1. https://console.firebase.google.com 접속
2. 프로젝트 `aidt-921d3` 선택

## 2. Firestore Database로 이동
1. 왼쪽 메뉴에서 "Firestore Database" 클릭
2. "인덱스" 탭 클릭

## 3. 인덱스 추가
다음 인덱스들을 추가해주세요:

### 일정 관련 인덱스
1. **컬렉션**: `schedules`
   - **필드**: `region` (오름차순), `date` (오름차순)
   - **쿼리 범위**: 컬렉션

2. **컬렉션**: `schedules`
   - **필드**: `region` (오름차순), `createdAt` (내림차순)
   - **쿼리 범위**: 컬렉션

### 참가자 관련 인덱스
3. **컬렉션**: `participants`
   - **필드**: `region` (오름차순), `name` (오름차순)
   - **쿼리 범위**: 컬렉션

4. **컬렉션**: `participants`
   - **필드**: `affiliation` (오름차순), `name` (오름차순)
   - **쿼리 범위**: 컬렉션

## 4. 인덱스 생성 방법
1. "인덱스 만들기" 버튼 클릭
2. 컬렉션 ID 입력 (예: `schedules`)
3. 필드 추가 버튼으로 필요한 필드들 추가
4. 정렬 순서 설정 (오름차순/내림차순)
5. "만들기" 버튼 클릭

## 5. 인덱스 상태 확인
- 인덱스가 생성되면 "빌드 중" 상태가 됩니다
- 완료되면 "사용 가능" 상태로 변경됩니다
- 보통 몇 분에서 몇 시간이 소요될 수 있습니다

## 6. 인덱스 적용 후 효과
- 일정 조회 성능이 크게 향상됩니다
- 권역별 필터링이 빠르게 작동합니다
- 날짜별 정렬이 효율적으로 처리됩니다

## 7. 문제 해결
만약 인덱스 오류가 계속 발생한다면:
1. Firebase Console에서 인덱스 상태 확인
2. 필요한 인덱스가 모두 생성되었는지 확인
3. 인덱스 빌드가 완료되었는지 확인
4. 여전히 문제가 있다면 간단한 API (`/api/simple-schedules`)를 사용 