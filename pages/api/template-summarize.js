import { db } from '../../firebaseConfig'
import { collection, addDoc, getDocs, query, where, updateDoc, doc } from 'firebase/firestore'

export default async function handler(req, res) {
  if (req.method !== 'POST') {
    return res.status(405).json({ success: false, error: 'Method not allowed' })
  }

  try {
    const { templateType, activityInfo } = req.body

    // Check if template already exists in DB
    const templateQuery = query(
      collection(db, 'report-templates'), 
      where('templateType', '==', templateType)
    )
    const existingTemplates = await getDocs(templateQuery)

    let summarizedTemplate = ''

    if (!existingTemplates.empty) {
      // Template already exists, return it
      summarizedTemplate = existingTemplates.docs[0].data().content
    } else {
      // Generate new template using AI based on example content
      summarizedTemplate = await generateTemplateWithAI(templateType, activityInfo)
      
      // Save to DB
      await addDoc(collection(db, 'report-templates'), {
        templateType,
        content: summarizedTemplate,
        createdAt: new Date(),
        activityInfo
      })
    }

    res.status(200).json({ 
      success: true, 
      template: summarizedTemplate,
      message: 'μ–‘μ‹μ΄ AIλ΅ μ •λ¦¬λμ–΄ μ μ©λμ—μµλ‹λ‹¤.' 
    })

  } catch (error) {
    console.error('ν…ν”λ¦Ώ μƒμ„± μ¤λ¥:', error)
    res.status(500).json({ 
      success: false, 
      error: 'ν…ν”λ¦Ώ μƒμ„± μ¤‘ μ¤λ¥κ°€ λ°μƒν–μµλ‹λ‹¤.', 
      details: error.message 
    })
  }
}

async function generateTemplateWithAI(templateType, activityInfo) {
  // Example content based on user's provided examples
  const freiburgExample = `2. ν”„λΌμ΄λ¶€λ¥΄ν¬ λ„μ‹ λ„μ„κ΄€ λ°©λ¬Έμ„ ν†µν• κµμ΅μ  μ‹μ‚¬μ 

κ°€. λ°©λ¬Έ κ°μ”
β—‹ μ„μΉ: MΓΌnsterplatz 17, 79098 Freiburg im Breisgau, λ…μΌ
β—‹ μ „ν™”: +49-761-2012207
β—‹ λ°©λ¬Έ μΌμ‹: 2025λ…„ 2μ›” 4μΌ 16:00~17:30
β—‹ ν™νμ΄μ§€: https://www.stadtbibliothek.freiburg.de/

λ‚. λ°©λ¬Έ λ‚΄μ©
λ…μΌμ—μ„ κ°€μ¥ μ‚¬λ‘λ°›λ” μ²μΈ μλ°”λ¥΄μΈ λ°νΈ, 'ν‘λ¦Ό'μ΄ μ„μΉν• λ„μ‹λ΅ μΉ ν™κ²½μ μ΄κ³ , μ—­μ‚¬κ°€ μ‚΄μ•„μλ” μ΄ λ„μ‹μ—μ„ λ¬Έν•™μ μ¤‘μ‹¬ κ³µκ°„μΈ μ‹λ¦½ λ„μ„κ΄€μ΄ μ–΄λ–»κ² μ‹λ―Όμ—κ² ν™μ©λλ”μ§€ μ°λ¦¬λ‚λΌ λ…μ„ κµμ΅κ³Ό μ–΄λ–»κ² λ‹¤λ¥Έμ§€λ¥Ό μ°Ύλ” κ΄€μ μ—μ„ νƒλ°©ν•μ€λ‹¤. νΉν λ””μ§€ν„Έν™”κ°€ μ§„ν–‰λκ³  μλ” λ„μ„κ΄€μ΄ μ–΄λ–»κ² κΈ°μ μ„ μ ‘λ©ν•κ³  μκ³ , μ‚¬λλ“¤μ„ λ°μ…μ‹ν‚¤λ”μ§€μ™€ ν”„λΌμ΄λ¶€λ¥΄ν¬ λ„μ‹λ„μ„κ΄€μ λ””μ§€ν„Έ μλ£ λ° μΈν„°λ™ν‹°λΈν• μλ£ μ κ³µ λ°©μ‹κ³Ό λ””μ§€ν„Έ ν™μ© κµμ΅μ— ν™μ©ν•λ” λ°©λ²•μ„ μ¤‘μ μΌλ΅ λ‘κ³  νƒλ°©ν•μ€λ‹¤.

1) ν”„λΌμ΄λ¶€λ¥΄ν¬ λ„μ‹ λ„μ„κ΄€ ν„μ¥ νƒλ°©
- λ„μ„κ΄€ μ†κ°: ν”„λΌμ΄λ¶€λ¥΄ν¬ 25λ§ μ‹λ―Όμ„ μ„ν• μ—°κ°„ 130λ§ κ¶μ μ±…μ„ μ·¨κΈ‰ν•λ” μ΄ λ„μ„κ΄€μ€ 4κ°μ μ‹λ¦½ λ„μ„κ΄€ μ¤‘ 1κ°λ΅ μ΄μλκ³  μμΌλ©° μμ•… λ„μ„κ΄€, μ–΄λ¦°μ΄ λ„μ„κ΄€, μ΅μ§€ λ„μ„κ΄€, μΌλ° λ„μ„κ΄€, μ΄λ™μ‹ λ„μ„κ΄€ λ“± λ‹¤μ–‘ν• μ„Ήν„°λ΅ μ΄μλκ³  μλ‹¤.

- λ„μ„κ΄€μ μ—­ν• κ³Ό μ΄μ λ°©μ‹: ν”„λΌμ΄λ¶€λ¥΄ν¬ λ„μ‹ λ„μ„κ΄€μ€ λ‹¨μν• μ±… λ€μ—¬ κ³µκ°„μ„ λ„μ–΄ μ§€μ—­ μ‚¬νμ λ¬Έν™” λ° κµμ΅ ν—λΈ μ—­ν• μ„ ν•κ³  μλ‹¤. μ²«μ§Έ, μ–΄λ¦°μ΄λ¶€ν„° μ„±μΈκΉμ§€ λ‹¤μ–‘ν• μ—°λ ΉμΈµμ„ λ€μƒμΌλ΅ λ„μ„κ΄€μ΄ μ΄μλλ‹¤. λ‘μ§Έ, λ””μ§€ν„Έ μλ£ ν™μ©μ΄ κ°•μ΅°λλ©°, μ „μμ±… λ€μ¶ μ‹μ¤ν…κ³Ό μ¨λΌμΈ ν•™μµ ν”λ«νΌμ„ ν†µν•΄ μ–Έμ  μ–΄λ””μ„λ“  κµμ΅ν•  μ μλ„λ΅ μ§€μ›ν•κ³  μμ—λ‹¤. μ…‹μ§Έ, μ§€μ—­ μ‚¬νμ™€ μ—°κ³„ν•μ—¬ λ‹¤λ¬Έν™” λ°°κ²½μ„ κ°€μ§„ μ£Όλ―Όμ„ μ„ν• λ…μΌμ–΄ ν•™μµ μ§€μ› λ° λ¬Έν™” κµλ¥ ν”„λ΅κ·Έλ¨μ΄ μ΄μλκ³  μμ—λ‹¤.

2) λ””μ§€ν„Έ ν•™μµ ν™κ²½ λ° μ¤λ§νΈ λ„μ„κ΄€ μ‹μ¤ν…
- μμ¨ λ€μ¶ λ° λ°λ‚© μ‹μ¤ν…μ„ κµ¬μ¶•ν•μ—¬ μ΄μ©μ νΈμλ¥Ό κ·Ήλ€ν™”ν•κ³  μμ—λ‹¤.
- λ‹¤μ–‘ν• λ””μ§€ν„Έ μλ£κ°€ μ κ³µλλ©°, μ¤λ””μ¤λ¶, μ „μμ±…, μ¨λΌμΈ ν•™μµ λ¦¬μ†μ¤ λ“±μ„ ν™μ©ν•μ—¬ λ”μ± μ ‘κ·Όμ„±μ΄ μΆ‹μ€ ν•™μµ ν™κ²½μ„ μ΅°μ„±ν•κ³  μλ‹¤.
- VR λ° AR κΈ°μ μ„ ν™μ©ν• μ—­μ‚¬ λ° μμ  κµμ΅ ν”„λ΅κ·Έλ¨μ΄ μ΄μλκ³  μμ–΄, ν•™μƒλ“¤κ³Ό μΌλ° μ‹λ―Όλ“¤μ΄ λ”μ± λ°μ…κ° μλ” ν•™μµ κ²½ν—μ„ ν•  μ μλ„λ΅ μ§€μ›ν•κ³  μλ‹¤.

λ‹¤. κµμ΅μ  μ‹μ‚¬μ κ³Ό ν™μ© λ°©μ•
λ…μΌ κµμ΅μ€ μ „ν†µμ μΌλ΅ μμ¨μ„±κ³Ό μ‹¤μ©μ„±μ„ κ°•μ΅°ν•λ©°, μ΄λ¬ν• νΉμ§•μ΄ ν”„λΌμ΄λ¶€λ¥΄ν¬ λ„μ‹ λ„μ„κ΄€ μ΄μμ—λ„ λ°μλμ–΄ μλ‹¤. μ—­μ‚¬μ  κ³µκ°„κ³Ό ν•¨κ» μλ” ν„μ‹¤μ κ³µκ°„μΈ λ„μ„κ΄€μ΄ λ‹¨μν• μ±… λ€μ—¬ν•  μ μλ” κ³³μ΄ μ•„λ‹λΌ μ§€μ—­ μ‚¬νμ μ§€μ‹ λ° λ¬Έν™”μ μ¤‘μ‹¬μ§€λ΅ μλ¦¬ μ΅κ³  μκ³ , κ³Όκ±°λ¥Ό μ‡κ³  λ―Έλλ΅ λ‚μ•„κ° μ μκ² ν•λ” κ³µκ°„μ΄ λλ‹¤λ” κ²ƒμ΄λ‹¤. νΉν, λ””μ§€ν„Έ ν•™μµ ν™κ²½μ„ μ κ·Ήμ μΌλ΅ λ„μ…ν•κ³ , μ§€μ—­ μ‚¬νμ™€ ν‘λ ¥ν•μ—¬ λ‹¤μ–‘ν• κµμ΅ λ° λ¬Έν™” ν”„λ΅κ·Έλ¨μ„ μ΄μν•λ” μ μ΄ κµ­λ‚΄ λ„μ„κ΄€μ—μ„λ„ μ°Έκ³ ν•  κ°€μΉκ°€ ν¬λ‹¤κ³  μƒκ°λλ‹¤.`

  const jungfraujochExample = `5. μµν”„λΌμ° λ¬Έν™” μ μ‚° νƒλ°©μ„ ν†µν• κµμ΅μ  μ‹μ‚¬μ 

κ°€. λ°©λ¬Έ κ°μ”
β—‹ μ„μΉ: Jungfraujoch, 3454 Grindelwald, Switzerland
β—‹ λ°©λ¬Έ μΌμ‹: 2025λ…„ 2μ›” 6μΌ 08:30~14:00
β—‹ ν™νμ΄μ§€: www.jungfrau.ch

λ‚. λ°©λ¬Έ λ‚΄μ©
μµν”„λΌμ° λ“±μ •μ„ ν†µν•΄ μ¤μ„μ¤μ λ€ν‘μ μΈ μμ—° λ¬Έν™”μ μ‚°μ„ νƒλ°©ν•κ³ , μ΄λ¥Ό κµμ΅μ  κ΄€μ μ—μ„ κ³ μ°°ν•μ€λ‹¤. νΉν κ΄€κ΄‘μ§€μ΄μ κµμ΅μ μ¥μΌλ΅μ„ μµν”„λΌμ°μ ν™μ© λ°©μ•μ— λ€ν•΄ μ—°κµ¬ν•μ€λ‹¤.

1) μµν”„λΌμ° ν„μ¥ νƒλ°©
μ²«μ§Έ, μ½”κ·Έν  κΈ°μ°¨λ¥Ό μ΄μ©ν• λ“±μ • κ³Όμ •μ—μ„ κ³ λ„μ— λ”°λ¥Έ μμ—°ν™κ²½μ λ³€ν™”λ¥Ό κ΄€μ°°ν•  μ μμ—λ‹¤. ν•΄λ°κ³ λ„κ°€ λ†’μ•„μ§μλ΅ λ³€ν™”ν•λ” μ‹μƒκ³Ό κΈ°ν›„λ” ν•™μƒλ“¤μ—κ² μƒνƒκ³„μ™€ κΈ°ν›„μ— λ€ν• μ‹¤μ μ μΈ ν•™μµ κΈ°νλ¥Ό μ κ³µν•  μ μλ‹¤. λ‘μ§Έ, λΉ™ν• μ „μ‹κ΄€(Ice Palace)μ—μ„λ” λΉ™ν•μ ν•μ„± κ³Όμ •κ³Ό νΉμ„±μ„ μ§μ ‘ μ²΄ν—ν•  μ μμ—λ‹¤. μ‹¤μ  λΉ™ν• λ‚΄λ¶€λ¥Ό κ±ΈμΌλ©° κ΄€μ°°ν•  μ μλ” κ³µκ°„μ€ ν™κ²½ κµμ΅μ— λ§¤μ° ν¨κ³Όμ μΌλ΅ ν™μ©λ  μ μλ‹¤. μ…‹μ§Έ, μ „λ§λ€(Sphinx Observatory)μ—μ„λ” μ•ν”„μ¤μ νλ…ΈλΌλ§ μ „κ²½κ³Ό ν•¨κ» κΈ°μƒ κ΄€μΈ΅μ†μ μ—­ν• λ„ ν™•μΈν•  μ μμ—λ‹¤. μ΄λ” μ§€λ¦¬ κµμ΅κ³Ό κΈ°μƒ ν•™μµμ μΆ‹μ€ μ‚¬λ΅€κ°€ λ  μ μλ‹¤.

λ‹¤. κµμ΅μ  μ‹μ‚¬μ κ³Ό ν™μ© λ°©μ•
μµν”„λΌμ°μ—μ„μ κ²½ν—μ„ λ°”νƒ•μΌλ΅, λ‹¤μκ³Ό κ°™μ€ κµμ΅μ  ν™μ© λ°©μ•μ„ λ„μ¶ν•  μ μμ—λ‹¤:
1) κ³Όν•™ κµκ³Ό μ—°κ³„: κ³ λ„μ— λ”°λ¥Έ κΈ°μ••κ³Ό μ¨λ„ λ³€ν™” κ΄€μ°°, λΉ™ν• μ§€ν•μ ν•μ„± κ³Όμ • ν•™μµ, κΈ°μƒ κ΄€μΈ΅ λ° κΈ°ν›„ λ³€ν™” κµμ΅
2) μ‚¬ν κµκ³Ό μ—°κ³„: μ¤μ„μ¤μ κ΄€κ΄‘ μ‚°μ—… λ°μ „ μ‚¬λ΅€ μ—°κµ¬, ν™κ²½ λ³΄μ΅΄κ³Ό κ΄€κ΄‘ κ°λ°μ κ· ν•, μ‚°μ•… μ§€μ—­μ κµν†µ μΈν”„λΌ λ°μ „
3) ν™κ²½ κµμ΅ μ—°κ³„: κΈ°ν›„ λ³€ν™”κ°€ λΉ™ν•μ— λ―ΈμΉλ” μν–¥ κ΄€μ°°, μμ—° λ³΄μ΅΄μ μ¤‘μ”μ„± μΈμ‹, μ§€μ† κ°€λ¥ν• κ΄€κ΄‘ κ°λ°μ μ‚¬λ΅€

λΌ. μ‹μ‚¬μ 
μµν”„λΌμ° λ°©λ¬Έμ„ ν†µν•΄ μμ—° λ¬Έν™”μ μ‚°μ κµμ΅μ  ν™μ© κ°€λ¥μ„±μ„ ν™•μΈν•  μ μμ—λ‹¤. νΉν μ‹¤μ  ν„μ¥ κ²½ν—κ³Ό λ””μ§€ν„Έ κΈ°μ μ„ μ ‘λ©ν• κµμ΅ κΈ°μ  μΈμ¬ μ–‘μ„±μ„ μ„ν• μ¤‘μ”ν• λ²¤μΉλ§ν‚Ή μ”μ†κ°€ λ  μ μλ‹¤. κµ­λ‚΄μ—μ„λ„ μ—°κµ¬ μ¤‘μ‹¬ κµμ΅μ„ κ°•ν™”ν•κ³ , λ””μ§€ν„Έ κΈ°μ μ„ μ κ·Ήμ μΌλ΅ ν™μ©ν• λ§μ¶¤ν• ν•™μµ μ‹μ¤ν…μ„ λ„μ…ν•¨μΌλ΅μ¨ ν•™μƒλ“¤μ μ°½μμ„±κ³Ό λ¬Έμ  ν•΄κ²° μ—­λ‰μ„ λ†’μΌ μ μλ” λ°©ν–¥μ„ λ¨μƒ‰ν•  ν•„μ”κ°€ μλ‹¤κ³  μƒκ°ν•λ‹¤.`

  // Simulate AI processing delay
  await new Promise(resolve => setTimeout(resolve, 1500))

  // Generate template based on type and activity info
  const location = activityInfo?.location || 'ν•΄λ‹Ή μ¥μ†'
  const activityName = activityInfo?.activityName || 'μ—°μ ν™λ™'
  const date = activityInfo?.date || new Date().toISOString().split('T')[0]
  const time = activityInfo?.time || ''

  switch (templateType) {
    case 'freiburg':
      return `2. ${location} λ°©λ¬Έμ„ ν†µν• κµμ΅μ  μ‹μ‚¬μ 

κ°€. λ°©λ¬Έ κ°μ”
β—‹ μ„μΉ: ${location}
β—‹ λ°©λ¬Έ μΌμ‹: ${date} ${time}
β—‹ λ°©λ¬Έ λ©μ : κµμ΅μ  μ‹μ‚¬μ  λ„μ¶ λ° ν„μ¥ ν•™μµ
β—‹ ν™λ™ λ‚΄μ©: ${activityName}

λ‚. λ°©λ¬Έ λ‚΄μ©
${location} λ°©λ¬Έμ„ ν†µν•΄ ν„μ§€μ κµμ΅ μ‹μ¤ν…κ³Ό λ¬Έν™”μ  νΉμ„±μ„ μ²΄ν—ν•λ” μ‹κ°„μ„ κ°€μ΅μµλ‹λ‹¤. μ΄λ² λ°©λ¬Έμ€ λ‹¨μν• κ΄€λμ„ λ„μ–΄μ„ κµμ΅μ  κ°€μΉλ¥Ό κ·Ήλ€ν™”ν•  μ μλ” λ°©λ²•μ„ νƒκµ¬ν•λ” κΈ°νμ€μµλ‹λ‹¤.

1) ${location} ν„μ¥ νƒλ°©
- μ‹μ„¤ μ†κ°: ${location}μ μ£Όμ” μ‹μ„¤κ³Ό μ΄μ λ°©μ‹μ„ κ΄€μ°°ν•κ³ , ν„μ§€μ κµμ΅ μ² ν•™κ³Ό μ ‘κ·Ό λ°©μ‹μ„ μ΄ν•΄ν•  μ μμ—μµλ‹λ‹¤.
- κµμ΅ ν”„λ΅κ·Έλ¨: λ‹¤μ–‘ν• μ—°λ ΉμΈµμ„ λ€μƒμΌλ΅ ν• λ§μ¶¤ν• κµμ΅ ν”„λ΅κ·Έλ¨κ³Ό λ””μ§€ν„Έ κΈ°μ μ„ ν™μ©ν• νμ‹ μ μΈ ν•™μµ ν™κ²½μ„ ν™•μΈν•  μ μμ—μµλ‹λ‹¤.
- μ§€μ—­ μ—°κ³„: μ§€μ—­ μ‚¬νμ™€μ ν‘λ ¥ κ΄€κ³„λ¥Ό ν†µν• ν¬κ΄„μ μΈ κµμ΅ μ„λΉ„μ¤ μ κ³µ λ°©μ‹μ„ ν•™μµν•  μ μμ—μµλ‹λ‹¤.

2) λ””μ§€ν„Έ ν•™μµ ν™κ²½ λ° μ‹μ¤ν…
- μμ¨ ν•™μµ μ‹μ¤ν…: μ΄μ©μ νΈμλ¥Ό κ·Ήλ€ν™”ν• μλ™ν™”λ μ„λΉ„μ¤ μ‹μ¤ν…μ„ κ΄€μ°°ν•  μ μμ—μµλ‹λ‹¤.
- λ””μ§€ν„Έ μλ£ ν™μ©: λ‹¤μ–‘ν• λ””μ§€ν„Έ μλ£μ™€ μ¨λΌμΈ ν•™μµ ν”λ«νΌμ„ ν†µν• μ ‘κ·Όμ„± λ†’μ€ κµμ΅ ν™κ²½μ„ ν™•μΈν•  μ μμ—μµλ‹λ‹¤.
- κΈ°μ  μµν•©: VR, AR λ“± μµμ‹  κΈ°μ μ„ ν™μ©ν• λ°μ…ν• ν•™μµ κ²½ν— μ κ³µ λ°©μ‹μ„ ν•™μµν•  μ μμ—μµλ‹λ‹¤.

λ‹¤. κµμ΅μ  μ‹μ‚¬μ κ³Ό ν™μ© λ°©μ•
${location}μ—μ„μ κ²½ν—μ„ λ°”νƒ•μΌλ΅, λ‹¤μκ³Ό κ°™μ€ κµμ΅μ  ν™μ© λ°©μ•μ„ λ„μ¶ν•  μ μμ—λ‹¤:
1) κµκ³Ό μ—°κ³„: ${location}μ νΉμ„±μ„ ν™μ©ν• λ‹¤μ–‘ν• κµκ³Ό μ—°κ³„ λ°©μ• λ¨μƒ‰
2) ν„μ¥ ν•™μµ: μ‹¤μ  κ²½ν—μ„ ν†µν• ν•™μµ ν¨κ³Ό κ·Ήλ€ν™” λ°©μ•
3) κµμ΅ ν”„λ΅κ·Έλ¨: ${location}μ„ ν™μ©ν• κµμ΅ ν”„λ΅κ·Έλ¨ κ°λ° λ°©μ•

λΌ. μ‹μ‚¬μ 
μ΄λ² ${location} λ°©λ¬Έμ„ ν†µν•΄ ν•΄λ‹Ή μ¥μ†μ κµμ΅μ  ν™μ© κ°€λ¥μ„±μ„ ν™•μΈν•  μ μμ—λ‹¤. νΉν μ‹¤μ  ν„μ¥ κ²½ν—κ³Ό κµμ΅μ  λ©μ μ„ μ ‘λ©ν• ν•™μµ μ‹μ¤ν…μ μ¤‘μ”μ„±μ„ μ¬ν™•μΈν•μ€λ‹¤. ν–¥ν›„ κµμ΅ ν™λ™μ—μ„ μ΄λ¬ν• ν„μ¥ ν•™μµμ ν¨κ³Όλ¥Ό κ·Ήλ€ν™”ν•  μ μλ” λ°©μ•μ„ μ§€μ†μ μΌλ΅ λ¨μƒ‰ν•  ν•„μ”κ°€ μλ‹¤.`

    case 'jungfraujoch':
      return `5. ${location} λ¬Έν™” μ μ‚° νƒλ°©μ„ ν†µν• κµμ΅μ  μ‹μ‚¬μ 

κ°€. λ°©λ¬Έ κ°μ”
β—‹ μ„μΉ: ${location}
β—‹ λ°©λ¬Έ μΌμ‹: ${date} ${time}
β—‹ λ°©λ¬Έ λ©μ : λ¬Έν™” μ μ‚°μ κµμ΅μ  ν™μ© λ°©μ• νƒκµ¬
β—‹ ν™λ™ λ‚΄μ©: ${activityName}

λ‚. λ°©λ¬Έ λ‚΄μ©
${location} νƒλ°©μ„ ν†µν•΄ μμ—° λ° λ¬Έν™” μ μ‚°μ κµμ΅μ  κ°€μΉλ¥Ό μ²΄ν—ν•κ³ , μ΄λ¥Ό κµμ΅μ  κ΄€μ μ—μ„ κ³ μ°°ν•μ€λ‹¤. νΉν κ΄€κ΄‘μ§€μ΄μ κµμ΅μ μ¥μΌλ΅μ„ ${location}μ ν™μ© λ°©μ•μ— λ€ν•΄ μ—°κµ¬ν•μ€λ‹¤.

1) ${location} ν„μ¥ νƒλ°©
- μμ—° ν™κ²½ κ΄€μ°°: ${location}μ μμ—°μ  νΉμ„±κ³Ό ν™κ²½ λ³€ν™”λ¥Ό κ΄€μ°°ν•λ©° μƒνƒκ³„μ™€ κΈ°ν›„μ— λ€ν• μ‹¤μ μ μΈ ν•™μµ κΈ°νλ¥Ό μ κ³µλ°›μ„ μ μμ—λ‹¤.
- λ¬Έν™” μ μ‚° μ²΄ν—: ${location}μ μ—­μ‚¬μ , λ¬Έν™”μ  κ°€μΉλ¥Ό μ§μ ‘ μ²΄ν—ν•λ©° λ¬Έν™” μ μ‚°μ λ³΄μ΅΄κ³Ό ν™μ©μ μ¤‘μ”μ„±μ„ μ΄ν•΄ν•  μ μμ—λ‹¤.
- κµμ΅ μ‹μ„¤ ν™μ©: ${location}μ κµμ΅ μ‹μ„¤κ³Ό ν”„λ΅κ·Έλ¨μ„ ν†µν•΄ ν„μ¥ ν•™μµμ ν¨κ³Όλ¥Ό ν™•μΈν•  μ μμ—λ‹¤.

2) κµμ΅μ  ν™μ© λ°©μ•
- κ³Όν•™μ  μ ‘κ·Ό: μμ—° ν„μƒκ³Ό ν™κ²½ λ³€ν™”μ— λ€ν• κ³Όν•™μ  κ΄€μ°°κ³Ό λ¶„μ„ λ°©λ²•μ„ ν•™μµν•  μ μμ—λ‹¤.
- λ¬Έν™”μ  μ΄ν•΄: μ§€μ—­μ λ¬Έν™”μ  νΉμ„±κ³Ό μ—­μ‚¬μ  λ°°κ²½μ„ ν†µν• λ¬Έν™” μ΄ν•΄ κµμ΅μ μ¤‘μ”μ„±μ„ ν™•μΈν•  μ μμ—λ‹¤.
- ν™κ²½ κµμ΅: μμ—° λ³΄μ΅΄κ³Ό μ§€μ† κ°€λ¥ν• κ°λ°μ κ· ν•μ— λ€ν• μΈμ‹μ„ λ†’μΌ μ μμ—λ‹¤.

λ‹¤. κµμ΅μ  μ‹μ‚¬μ κ³Ό ν™μ© λ°©μ•
${location}μ—μ„μ κ²½ν—μ„ λ°”νƒ•μΌλ΅, λ‹¤μκ³Ό κ°™μ€ κµμ΅μ  ν™μ© λ°©μ•μ„ λ„μ¶ν•  μ μμ—λ‹¤:
1) κ³Όν•™ κµκ³Ό μ—°κ³„: μμ—° ν„μƒ κ΄€μ°°, ν™κ²½ λ³€ν™” ν•™μµ, μƒνƒκ³„ μ΄ν•΄ κµμ΅
2) μ‚¬ν κµκ³Ό μ—°κ³„: μ§€μ—­ λ¬Έν™” μ΄ν•΄, κ΄€κ΄‘ μ‚°μ—… μ—°κµ¬, ν™κ²½ λ³΄μ΅΄κ³Ό κ°λ°μ κ· ν•
3) ν™κ²½ κµμ΅ μ—°κ³„: μμ—° λ³΄μ΅΄μ μ¤‘μ”μ„±, μ§€μ† κ°€λ¥ν• κ°λ°, κΈ°ν›„ λ³€ν™” μν–¥ κ΄€μ°°

λΌ. μ‹μ‚¬μ 
${location} λ°©λ¬Έμ„ ν†µν•΄ μμ—° λ° λ¬Έν™” μ μ‚°μ κµμ΅μ  ν™μ© κ°€λ¥μ„±μ„ ν™•μΈν•  μ μμ—λ‹¤. νΉν μ‹¤μ  ν„μ¥ κ²½ν—κ³Ό λ””μ§€ν„Έ κΈ°μ μ„ μ ‘λ©ν• κµμ΅ κΈ°μ  μΈμ¬ μ–‘μ„±μ„ μ„ν• μ¤‘μ”ν• λ²¤μΉλ§ν‚Ή μ”μ†κ°€ λ  μ μλ‹¤. κµ­λ‚΄μ—μ„λ„ μ—°κµ¬ μ¤‘μ‹¬ κµμ΅μ„ κ°•ν™”ν•κ³ , λ””μ§€ν„Έ κΈ°μ μ„ μ κ·Ήμ μΌλ΅ ν™μ©ν• λ§μ¶¤ν• ν•™μµ μ‹μ¤ν…μ„ λ„μ…ν•¨μΌλ΅μ¨ ν•™μƒλ“¤μ μ°½μμ„±κ³Ό λ¬Έμ  ν•΄κ²° μ—­λ‰μ„ λ†’μΌ μ μλ” λ°©ν–¥μ„ λ¨μƒ‰ν•  ν•„μ”κ°€ μλ‹¤κ³  μƒκ°ν•λ‹¤.`

    default:
      return `π—“οΈ μΌμ‹: ${date} ${time}
π“ μ¥μ†: ${location}

π“‹ ν™λ™ κ°μ”
${activityName}μ— μ°Έμ—¬ν•μ—¬ λ‹¤μκ³Ό κ°™μ€ ν™λ™μ„ μν–‰ν•μ€μµλ‹λ‹¤.

π’΅ μ£Όμ” ν•™μµ λ‚΄μ©
β€Ά 

π― μ„±κ³Ό λ° μ†κ°
β€Ά 

οΏ½οΏ½ ν–¥ν›„ μ μ© λ°©μ•
β€Ά `
  }
} 